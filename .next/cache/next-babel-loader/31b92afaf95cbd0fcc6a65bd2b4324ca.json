{"ast":null,"code":"var _jsxFileName = \"/home/aekryzprobook/Desktop/next.js/administrator/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n// import { useState, useEffect } from \"react\";\n// import Router from \"next/router\";\n// import nextCookie from 'next-cookies'\nimport { useAuth } from '../lib/db';\nimport { Loggedin } from \"../utils/auth\";\nimport Login from \"../components/Login\";\nimport Profile from \"../components/Profile\"; // import { Router } from \"next/router\";\n// const index = ({token}) => {\n//   const auth = useAuth();\n//   const [Loggedin, setLoggedin] = useState(false)\n//   useEffect(() => {\n//     if (auth.user) {\n//       setLoggedin(true)\n//       Router.replace('/', '/dashboard/profile')\n//     } else {\n//       setLoggedin(false)\n//       // Router.replace('/', '/login')\n//     }\n//   }, [Loggedin]);\n//   if (auth.user || token) {\n//     return (\n//       <Profile />\n//     )\n//   } else if (!auth.user || !token) {\n//     return (\n//       <Login />\n//     )\n//   }\n// }\n\nconst login = ({\n  token\n}) => {\n  const auth = useAuth(); // console.log(auth.user.refreshToken)\n\n  if (token && token === auth.user.refreshToken) {\n    return __jsx(Profile, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    });\n  }\n\n  return __jsx(Login, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  });\n};\n\nlogin.getInitialProps = async ctx => {\n  return Loggedin(ctx);\n};\n\nexport default login;","map":{"version":3,"sources":["/home/aekryzprobook/Desktop/next.js/administrator/pages/index.js"],"names":["useAuth","Loggedin","Login","Profile","login","token","auth","user","refreshToken","getInitialProps","ctx"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,OAAT,QAAwB,WAAxB;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,OAAP,MAAoB,uBAApB,C,CACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,KAAK,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAa;AAEzB,QAAMC,IAAI,GAAGN,OAAO,EAApB,CAFyB,CAIzB;;AAEA,MAAGK,KAAK,IAAIA,KAAK,KAAKC,IAAI,CAACC,IAAL,CAAUC,YAAhC,EAA8C;AAC5C,WACE,MAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAGD;;AACD,SAAO,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CAZD;;AAcAJ,KAAK,CAACK,eAAN,GAAwB,MAAOC,GAAP,IAAe;AACrC,SAAOT,QAAQ,CAACS,GAAD,CAAf;AACD,CAFD;;AAIA,eAAeN,KAAf","sourcesContent":["// import { useState, useEffect } from \"react\";\n// import Router from \"next/router\";\n// import nextCookie from 'next-cookies'\nimport { useAuth } from '../lib/db'\nimport { Loggedin } from \"../utils/auth\";\nimport Login from \"../components/Login\";\nimport Profile from \"../components/Profile\";\n// import { Router } from \"next/router\";\n\n// const index = ({token}) => {\n\n//   const auth = useAuth();\n\n//   const [Loggedin, setLoggedin] = useState(false)\n\n//   useEffect(() => {\n//     if (auth.user) {\n//       setLoggedin(true)\n//       Router.replace('/', '/dashboard/profile')\n//     } else {\n//       setLoggedin(false)\n//       // Router.replace('/', '/login')\n//     }\n//   }, [Loggedin]);\n\n//   if (auth.user || token) {\n//     return (\n//       <Profile />\n//     )\n//   } else if (!auth.user || !token) {\n//     return (\n//       <Login />\n//     )\n//   }\n// }\n\nconst login = ({token}) => {\n\n  const auth = useAuth()\n\n  // console.log(auth.user.refreshToken)\n\n  if(token && token === auth.user.refreshToken) {\n    return (\n      <Profile/>\n    )\n  }\n  return <Login/>\n}\n\nlogin.getInitialProps = async (ctx) => {\n  return Loggedin(ctx)\n}\n\nexport default login"]},"metadata":{},"sourceType":"module"}